<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>final-project-proposal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Final Project Proposal_files/libs/clipboard/clipboard.min.js"></script>
<script src="Final Project Proposal_files/libs/quarto-html/quarto.js"></script>
<script src="Final Project Proposal_files/libs/quarto-html/popper.min.js"></script>
<script src="Final Project Proposal_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Final Project Proposal_files/libs/quarto-html/anchor.min.js"></script>
<link href="Final Project Proposal_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Final Project Proposal_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Final Project Proposal_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Final Project Proposal_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Final Project Proposal_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="stat-3255" class="level1">
<h1>Stat 3255</h1>
<section id="final-project-proposal" class="level2">
<h2 class="anchored" data-anchor-id="final-project-proposal">Final Project Proposal</h2>
<section id="garrck-ho" class="level4">
<h4 class="anchored" data-anchor-id="garrck-ho">Garrck Ho</h4>
<section id="introducton" class="level5">
<h5 class="anchored" data-anchor-id="introducton">Introducton</h5>
<p>The topic this project is going to be on is horse racing in Hong Kong. This idea piqued my interest because I when to one of these events over winter break. And going through the thought process of trying to figure out who will win the race was fascinating to me. And then a week later I watched a youtube video on how this one person created his own algorithm to predict the winner of each race. From the website, Kaggle, where I got my data, there are projects from people who have already done this idea. Even though it has been done already, I want to try to make my own model and see how accurate it can be.</p>
</section>
</section>
<section id="specific-aims" class="level4">
<h4 class="anchored" data-anchor-id="specific-aims">Specific Aims</h4>
<p>Using the given data, make a model to predict which horse is going to win the race. I had a very similar question when I was at this event. Because people make bets on which horse they think is going to win, I was think if there was a way to make a model to predict the winner each time. So after learning a little about data science and how to use data, I thought of this question.</p>
</section>
<section id="data-description-describe-your-data-set-for-instance-sampling-scheme-number-of-observations-number-of-variables-variables-of-interest-nature-of-the-variables-and-the-source-of-your-data-set-if-it-is-not-collected-by-yourself.-histogramcharts-etc" class="level4">
<h4 class="anchored" data-anchor-id="data-description-describe-your-data-set-for-instance-sampling-scheme-number-of-observations-number-of-variables-variables-of-interest-nature-of-the-variables-and-the-source-of-your-data-set-if-it-is-not-collected-by-yourself.-histogramcharts-etc">Data description: Describe your data set (for instance: sampling scheme, number of observations, number of variables, variables of interest, nature of the variables) and the source of your data set if it is not collected by yourself. (histogram/charts… etc)</h4>
<p>The data that is being used for this project came from Kaggle. Where someone else had already collected the data from the past years of horse racing in Hong Kong. The data that was collected is split into two datasets. One is called runs and the other is called races. Both datasets have 37 columns but runs have more rows than races. In the dataset, there are times in that are missing. For example, like sec_time7, a lot of them are missing because of the distance of the race. Some races are sprints, which are shorter and some are distance, which is longer. So depending on the distance of the race, those values will change. One value that is worth checking is the lengths_behind in the runs dataset. The minimum value is below zero which is questionable. Lengths_behind means the finishing position, as the number of horse lengths behind the winner. So how can a horse be negative lengths behind? Would that not just be the winner then? In both datasets, there are both categorical and numerical variables. Some of the categorical variables are date, venue, configuration, going, horse country, and horse breed. Variables that will be used in the model will be the horse ID, trainer ID, jockey ID, all of the times from the race, placements of the race and distance. The variable ‘going’ is the condition of the race track.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>runs <span class="op">=</span> pd.read_csv(<span class="st">"data/runs.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>races <span class="op">=</span> pd.read_csv(<span class="st">"data/races.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>pd.options.display.max_columns <span class="op">=</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="22">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>runs.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>(79447, 37)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>races.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>(6349, 37)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>runs.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>race_id</th>
      <th>horse_no</th>
      <th>horse_id</th>
      <th>result</th>
      <th>won</th>
      <th>lengths_behind</th>
      <th>horse_age</th>
      <th>horse_rating</th>
      <th>declared_weight</th>
      <th>actual_weight</th>
      <th>draw</th>
      <th>position_sec1</th>
      <th>position_sec2</th>
      <th>position_sec3</th>
      <th>position_sec4</th>
      <th>position_sec5</th>
      <th>position_sec6</th>
      <th>behind_sec1</th>
      <th>behind_sec2</th>
      <th>behind_sec3</th>
      <th>behind_sec4</th>
      <th>behind_sec5</th>
      <th>behind_sec6</th>
      <th>time1</th>
      <th>time2</th>
      <th>time3</th>
      <th>time4</th>
      <th>time5</th>
      <th>time6</th>
      <th>finish_time</th>
      <th>win_odds</th>
      <th>place_odds</th>
      <th>trainer_id</th>
      <th>jockey_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>46226.000000</td>
      <td>10079.000000</td>
      <td>1296.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>46226.000000</td>
      <td>10079.000000</td>
      <td>1296.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>46226.000000</td>
      <td>10079.000000</td>
      <td>1296.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
      <td>75712.000000</td>
      <td>79447.000000</td>
      <td>79447.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3173.352814</td>
      <td>6.905623</td>
      <td>2204.410525</td>
      <td>6.838597</td>
      <td>0.080053</td>
      <td>6.108901</td>
      <td>3.339346</td>
      <td>61.034904</td>
      <td>1104.953568</td>
      <td>122.729656</td>
      <td>6.876005</td>
      <td>6.849837</td>
      <td>6.846791</td>
      <td>6.843443</td>
      <td>6.945550</td>
      <td>6.748388</td>
      <td>6.253086</td>
      <td>3.378768</td>
      <td>4.083972</td>
      <td>4.509457</td>
      <td>5.992076</td>
      <td>6.026654</td>
      <td>10.638735</td>
      <td>21.135438</td>
      <td>22.928985</td>
      <td>23.864054</td>
      <td>24.039662</td>
      <td>24.105221</td>
      <td>24.350216</td>
      <td>85.322914</td>
      <td>28.812977</td>
      <td>7.423177</td>
      <td>79.793007</td>
      <td>85.832341</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1833.101494</td>
      <td>3.760711</td>
      <td>1275.049375</td>
      <td>3.730498</td>
      <td>0.271378</td>
      <td>33.636209</td>
      <td>0.876763</td>
      <td>11.748788</td>
      <td>62.347597</td>
      <td>6.305496</td>
      <td>3.747589</td>
      <td>3.734348</td>
      <td>3.733014</td>
      <td>3.732055</td>
      <td>3.792138</td>
      <td>3.702360</td>
      <td>3.426108</td>
      <td>4.282529</td>
      <td>2.691107</td>
      <td>16.541538</td>
      <td>33.991084</td>
      <td>31.754623</td>
      <td>67.791252</td>
      <td>6.930518</td>
      <td>3.599727</td>
      <td>3.571163</td>
      <td>4.663367</td>
      <td>1.127963</td>
      <td>1.314755</td>
      <td>18.512883</td>
      <td>30.097375</td>
      <td>8.823430</td>
      <td>45.118874</td>
      <td>54.338105</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>-0.500000</td>
      <td>2.000000</td>
      <td>10.000000</td>
      <td>693.000000</td>
      <td>103.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.150000</td>
      <td>0.150000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>12.390000</td>
      <td>19.990000</td>
      <td>21.000000</td>
      <td>21.200000</td>
      <td>21.420000</td>
      <td>21.500000</td>
      <td>55.160000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1586.000000</td>
      <td>4.000000</td>
      <td>1085.000000</td>
      <td>4.000000</td>
      <td>0.000000</td>
      <td>1.750000</td>
      <td>3.000000</td>
      <td>60.000000</td>
      <td>1062.000000</td>
      <td>118.000000</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>3.000000</td>
      <td>1.500000</td>
      <td>1.750000</td>
      <td>1.750000</td>
      <td>1.750000</td>
      <td>1.750000</td>
      <td>1.750000</td>
      <td>14.120000</td>
      <td>22.290000</td>
      <td>23.230000</td>
      <td>23.320000</td>
      <td>23.410000</td>
      <td>23.570000</td>
      <td>70.590000</td>
      <td>7.700000</td>
      <td>2.400000</td>
      <td>47.000000</td>
      <td>39.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3174.000000</td>
      <td>7.000000</td>
      <td>2209.000000</td>
      <td>7.000000</td>
      <td>0.000000</td>
      <td>4.000000</td>
      <td>3.000000</td>
      <td>60.000000</td>
      <td>1102.000000</td>
      <td>123.000000</td>
      <td>7.000000</td>
      <td>7.000000</td>
      <td>7.000000</td>
      <td>7.000000</td>
      <td>7.000000</td>
      <td>7.000000</td>
      <td>6.000000</td>
      <td>3.000000</td>
      <td>3.750000</td>
      <td>3.750000</td>
      <td>3.750000</td>
      <td>3.750000</td>
      <td>4.250000</td>
      <td>24.180000</td>
      <td>22.870000</td>
      <td>23.760000</td>
      <td>23.890000</td>
      <td>23.960000</td>
      <td>24.120000</td>
      <td>83.350000</td>
      <td>15.000000</td>
      <td>4.100000</td>
      <td>75.000000</td>
      <td>76.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>4764.500000</td>
      <td>10.000000</td>
      <td>3308.000000</td>
      <td>10.000000</td>
      <td>0.000000</td>
      <td>6.750000</td>
      <td>3.000000</td>
      <td>60.000000</td>
      <td>1146.000000</td>
      <td>128.000000</td>
      <td>10.000000</td>
      <td>10.000000</td>
      <td>10.000000</td>
      <td>10.000000</td>
      <td>10.000000</td>
      <td>10.000000</td>
      <td>9.000000</td>
      <td>5.000000</td>
      <td>5.750000</td>
      <td>5.750000</td>
      <td>6.250000</td>
      <td>6.500000</td>
      <td>7.750000</td>
      <td>25.360000</td>
      <td>23.520000</td>
      <td>24.410000</td>
      <td>24.560000</td>
      <td>24.630000</td>
      <td>24.820000</td>
      <td>100.780000</td>
      <td>38.000000</td>
      <td>8.600000</td>
      <td>118.000000</td>
      <td>138.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>6348.000000</td>
      <td>14.000000</td>
      <td>4404.000000</td>
      <td>14.000000</td>
      <td>1.000000</td>
      <td>999.000000</td>
      <td>10.000000</td>
      <td>138.000000</td>
      <td>1369.000000</td>
      <td>133.000000</td>
      <td>15.000000</td>
      <td>14.000000</td>
      <td>14.000000</td>
      <td>14.000000</td>
      <td>14.000000</td>
      <td>14.000000</td>
      <td>14.000000</td>
      <td>999.000000</td>
      <td>60.250000</td>
      <td>999.000000</td>
      <td>999.000000</td>
      <td>999.000000</td>
      <td>999.000000</td>
      <td>999.000000</td>
      <td>999.000000</td>
      <td>999.000000</td>
      <td>999.000000</td>
      <td>49.570000</td>
      <td>34.150000</td>
      <td>163.580000</td>
      <td>99.000000</td>
      <td>101.000000</td>
      <td>175.000000</td>
      <td>185.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>races.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>race_id</th>
      <th>race_no</th>
      <th>surface</th>
      <th>distance</th>
      <th>prize</th>
      <th>race_class</th>
      <th>sec_time1</th>
      <th>sec_time2</th>
      <th>sec_time3</th>
      <th>sec_time4</th>
      <th>sec_time5</th>
      <th>sec_time6</th>
      <th>sec_time7</th>
      <th>time1</th>
      <th>time2</th>
      <th>time3</th>
      <th>time4</th>
      <th>time5</th>
      <th>time6</th>
      <th>time7</th>
      <th>place_combination1</th>
      <th>place_combination2</th>
      <th>place_combination3</th>
      <th>place_combination4</th>
      <th>place_dividend1</th>
      <th>place_dividend2</th>
      <th>place_dividend3</th>
      <th>place_dividend4</th>
      <th>win_combination1</th>
      <th>win_dividend1</th>
      <th>win_combination2</th>
      <th>win_dividend2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>5.887000e+03</td>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>3634.000000</td>
      <td>821.000000</td>
      <td>115.000000</td>
      <td>0.0</td>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>3634.000000</td>
      <td>821.000000</td>
      <td>115.000000</td>
      <td>0.0</td>
      <td>6349.00000</td>
      <td>6349.000000</td>
      <td>6324.000000</td>
      <td>23.000000</td>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>6324.000000</td>
      <td>23.000000</td>
      <td>6349.000000</td>
      <td>6349.000000</td>
      <td>12.000000</td>
      <td>12.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3174.000000</td>
      <td>5.226807</td>
      <td>0.109151</td>
      <td>1419.113246</td>
      <td>1.134790e+06</td>
      <td>3.893684</td>
      <td>20.699466</td>
      <td>22.826749</td>
      <td>23.830743</td>
      <td>23.852854</td>
      <td>23.868685</td>
      <td>23.912261</td>
      <td>NaN</td>
      <td>20.699466</td>
      <td>43.526215</td>
      <td>67.356959</td>
      <td>91.735793</td>
      <td>112.479695</td>
      <td>140.349739</td>
      <td>NaN</td>
      <td>6.23862</td>
      <td>6.366357</td>
      <td>6.525933</td>
      <td>8.434783</td>
      <td>27.778469</td>
      <td>32.802536</td>
      <td>38.969292</td>
      <td>22.013043</td>
      <td>6.238620</td>
      <td>96.096944</td>
      <td>8.166667</td>
      <td>101.416667</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1832.942761</td>
      <td>2.795019</td>
      <td>0.311853</td>
      <td>281.468745</td>
      <td>1.749156e+06</td>
      <td>1.992868</td>
      <td>5.880319</td>
      <td>1.044998</td>
      <td>0.870355</td>
      <td>0.820277</td>
      <td>0.758860</td>
      <td>0.667664</td>
      <td>NaN</td>
      <td>5.880319</td>
      <td>6.657225</td>
      <td>6.978638</td>
      <td>7.814997</td>
      <td>5.452576</td>
      <td>4.910272</td>
      <td>NaN</td>
      <td>3.61858</td>
      <td>3.662594</td>
      <td>3.731685</td>
      <td>2.982160</td>
      <td>25.175925</td>
      <td>30.275423</td>
      <td>37.015938</td>
      <td>16.757802</td>
      <td>3.620321</td>
      <td>131.221259</td>
      <td>3.325749</td>
      <td>101.672566</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1000.000000</td>
      <td>4.850000e+05</td>
      <td>0.000000</td>
      <td>12.390000</td>
      <td>20.060000</td>
      <td>21.200000</td>
      <td>21.400000</td>
      <td>21.810000</td>
      <td>21.770000</td>
      <td>NaN</td>
      <td>12.390000</td>
      <td>33.110000</td>
      <td>55.160000</td>
      <td>80.430000</td>
      <td>105.830000</td>
      <td>132.840000</td>
      <td>NaN</td>
      <td>1.00000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>4.000000</td>
      <td>10.100000</td>
      <td>10.100000</td>
      <td>10.100000</td>
      <td>10.100000</td>
      <td>1.000000</td>
      <td>10.500000</td>
      <td>3.000000</td>
      <td>12.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1587.000000</td>
      <td>3.000000</td>
      <td>0.000000</td>
      <td>1200.000000</td>
      <td>6.750000e+05</td>
      <td>3.000000</td>
      <td>13.690000</td>
      <td>22.140000</td>
      <td>23.210000</td>
      <td>23.300000</td>
      <td>23.410000</td>
      <td>23.550000</td>
      <td>NaN</td>
      <td>13.690000</td>
      <td>35.950000</td>
      <td>59.830000</td>
      <td>83.410000</td>
      <td>109.010000</td>
      <td>137.290000</td>
      <td>NaN</td>
      <td>3.00000</td>
      <td>3.000000</td>
      <td>3.000000</td>
      <td>6.500000</td>
      <td>15.000000</td>
      <td>17.000000</td>
      <td>18.500000</td>
      <td>10.100000</td>
      <td>3.000000</td>
      <td>34.500000</td>
      <td>5.500000</td>
      <td>25.250000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3174.000000</td>
      <td>5.000000</td>
      <td>0.000000</td>
      <td>1400.000000</td>
      <td>8.400000e+05</td>
      <td>4.000000</td>
      <td>23.720000</td>
      <td>22.800000</td>
      <td>23.720000</td>
      <td>23.770000</td>
      <td>23.830000</td>
      <td>24.020000</td>
      <td>NaN</td>
      <td>23.720000</td>
      <td>46.410000</td>
      <td>69.720000</td>
      <td>94.300000</td>
      <td>110.330000</td>
      <td>138.360000</td>
      <td>NaN</td>
      <td>6.00000</td>
      <td>6.000000</td>
      <td>6.000000</td>
      <td>8.000000</td>
      <td>20.000000</td>
      <td>24.000000</td>
      <td>27.500000</td>
      <td>15.500000</td>
      <td>6.000000</td>
      <td>58.500000</td>
      <td>8.000000</td>
      <td>50.250000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>4761.000000</td>
      <td>7.000000</td>
      <td>0.000000</td>
      <td>1650.000000</td>
      <td>1.060000e+06</td>
      <td>4.000000</td>
      <td>24.700000</td>
      <td>23.450000</td>
      <td>24.380000</td>
      <td>24.330000</td>
      <td>24.280000</td>
      <td>24.295000</td>
      <td>NaN</td>
      <td>24.700000</td>
      <td>48.070000</td>
      <td>72.100000</td>
      <td>100.030000</td>
      <td>113.150000</td>
      <td>140.205000</td>
      <td>NaN</td>
      <td>9.00000</td>
      <td>9.000000</td>
      <td>10.000000</td>
      <td>11.000000</td>
      <td>31.000000</td>
      <td>36.500000</td>
      <td>44.000000</td>
      <td>24.750000</td>
      <td>9.000000</td>
      <td>105.500000</td>
      <td>11.250000</td>
      <td>178.625000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>6348.000000</td>
      <td>11.000000</td>
      <td>1.000000</td>
      <td>2400.000000</td>
      <td>2.500000e+07</td>
      <td>13.000000</td>
      <td>30.030000</td>
      <td>27.410000</td>
      <td>27.580000</td>
      <td>28.920000</td>
      <td>26.500000</td>
      <td>25.920000</td>
      <td>NaN</td>
      <td>30.030000</td>
      <td>56.220000</td>
      <td>81.290000</td>
      <td>107.810000</td>
      <td>134.310000</td>
      <td>158.490000</td>
      <td>NaN</td>
      <td>14.00000</td>
      <td>14.000000</td>
      <td>14.000000</td>
      <td>14.000000</td>
      <td>410.500000</td>
      <td>627.000000</td>
      <td>420.500000</td>
      <td>68.000000</td>
      <td>14.000000</td>
      <td>2687.500000</td>
      <td>12.000000</td>
      <td>282.500000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>races.tail()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>race_id</th>
      <th>date</th>
      <th>venue</th>
      <th>race_no</th>
      <th>config</th>
      <th>surface</th>
      <th>distance</th>
      <th>going</th>
      <th>horse_ratings</th>
      <th>prize</th>
      <th>race_class</th>
      <th>sec_time1</th>
      <th>sec_time2</th>
      <th>sec_time3</th>
      <th>sec_time4</th>
      <th>sec_time5</th>
      <th>sec_time6</th>
      <th>sec_time7</th>
      <th>time1</th>
      <th>time2</th>
      <th>time3</th>
      <th>time4</th>
      <th>time5</th>
      <th>time6</th>
      <th>time7</th>
      <th>place_combination1</th>
      <th>place_combination2</th>
      <th>place_combination3</th>
      <th>place_combination4</th>
      <th>place_dividend1</th>
      <th>place_dividend2</th>
      <th>place_dividend3</th>
      <th>place_dividend4</th>
      <th>win_combination1</th>
      <th>win_dividend1</th>
      <th>win_combination2</th>
      <th>win_dividend2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6344</th>
      <td>6344</td>
      <td>2005-08-28</td>
      <td>ST</td>
      <td>6</td>
      <td>A</td>
      <td>0</td>
      <td>1400</td>
      <td>GOOD</td>
      <td>115-95</td>
      <td>2500000.0</td>
      <td>1</td>
      <td>13.65</td>
      <td>23.10</td>
      <td>24.60</td>
      <td>21.78</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13.65</td>
      <td>36.75</td>
      <td>61.35</td>
      <td>83.13</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>6</td>
      <td>7</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>13.5</td>
      <td>14.5</td>
      <td>62.5</td>
      <td>NaN</td>
      <td>6</td>
      <td>38.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6345</th>
      <td>6345</td>
      <td>2005-08-28</td>
      <td>ST</td>
      <td>7</td>
      <td>A</td>
      <td>0</td>
      <td>1600</td>
      <td>GOOD</td>
      <td>G</td>
      <td>23000000.0</td>
      <td>11</td>
      <td>24.48</td>
      <td>22.54</td>
      <td>23.01</td>
      <td>23.45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>24.48</td>
      <td>47.02</td>
      <td>70.03</td>
      <td>93.48</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>5</td>
      <td>6</td>
      <td>14.0</td>
      <td>NaN</td>
      <td>18.0</td>
      <td>20.5</td>
      <td>45.0</td>
      <td>NaN</td>
      <td>5</td>
      <td>60.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6346</th>
      <td>6346</td>
      <td>2005-08-28</td>
      <td>ST</td>
      <td>8</td>
      <td>A</td>
      <td>0</td>
      <td>2000</td>
      <td>GOOD</td>
      <td>G</td>
      <td>25000000.0</td>
      <td>11</td>
      <td>26.79</td>
      <td>23.31</td>
      <td>23.24</td>
      <td>23.46</td>
      <td>24.15</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>26.79</td>
      <td>50.10</td>
      <td>73.34</td>
      <td>96.80</td>
      <td>120.95</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2</td>
      <td>8</td>
      <td>5.0</td>
      <td>NaN</td>
      <td>11.0</td>
      <td>27.5</td>
      <td>38.5</td>
      <td>NaN</td>
      <td>2</td>
      <td>17.5</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6347</th>
      <td>6347</td>
      <td>2005-08-28</td>
      <td>ST</td>
      <td>9</td>
      <td>A</td>
      <td>0</td>
      <td>1200</td>
      <td>GOOD</td>
      <td>100-80</td>
      <td>1750000.0</td>
      <td>2</td>
      <td>23.65</td>
      <td>22.54</td>
      <td>22.97</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>23.65</td>
      <td>46.19</td>
      <td>69.16</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>9</td>
      <td>6</td>
      <td>4.0</td>
      <td>NaN</td>
      <td>11.0</td>
      <td>37.0</td>
      <td>21.5</td>
      <td>NaN</td>
      <td>9</td>
      <td>16.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6348</th>
      <td>6348</td>
      <td>2005-08-28</td>
      <td>ST</td>
      <td>10</td>
      <td>A</td>
      <td>0</td>
      <td>1600</td>
      <td>GOOD</td>
      <td>100-80</td>
      <td>1750000.0</td>
      <td>2</td>
      <td>25.46</td>
      <td>24.06</td>
      <td>23.73</td>
      <td>22.71</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>25.46</td>
      <td>49.52</td>
      <td>73.25</td>
      <td>95.96</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2</td>
      <td>4</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>38.0</td>
      <td>63.0</td>
      <td>18.5</td>
      <td>NaN</td>
      <td>2</td>
      <td>134.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="24">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>runs.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>race_id</th>
      <th>horse_no</th>
      <th>horse_id</th>
      <th>result</th>
      <th>won</th>
      <th>lengths_behind</th>
      <th>horse_age</th>
      <th>horse_country</th>
      <th>horse_type</th>
      <th>horse_rating</th>
      <th>horse_gear</th>
      <th>declared_weight</th>
      <th>actual_weight</th>
      <th>draw</th>
      <th>position_sec1</th>
      <th>position_sec2</th>
      <th>position_sec3</th>
      <th>position_sec4</th>
      <th>position_sec5</th>
      <th>position_sec6</th>
      <th>behind_sec1</th>
      <th>behind_sec2</th>
      <th>behind_sec3</th>
      <th>behind_sec4</th>
      <th>behind_sec5</th>
      <th>behind_sec6</th>
      <th>time1</th>
      <th>time2</th>
      <th>time3</th>
      <th>time4</th>
      <th>time5</th>
      <th>time6</th>
      <th>finish_time</th>
      <th>win_odds</th>
      <th>place_odds</th>
      <th>trainer_id</th>
      <th>jockey_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>3917</td>
      <td>10</td>
      <td>0.0</td>
      <td>8.00</td>
      <td>3</td>
      <td>AUS</td>
      <td>Gelding</td>
      <td>60</td>
      <td>--</td>
      <td>1020.0</td>
      <td>133</td>
      <td>7</td>
      <td>6</td>
      <td>4</td>
      <td>6</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.00</td>
      <td>2.00</td>
      <td>1.50</td>
      <td>8.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13.85</td>
      <td>21.59</td>
      <td>23.86</td>
      <td>24.62</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>83.92</td>
      <td>9.7</td>
      <td>3.7</td>
      <td>118</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>2</td>
      <td>2157</td>
      <td>8</td>
      <td>0.0</td>
      <td>5.75</td>
      <td>3</td>
      <td>NZ</td>
      <td>Gelding</td>
      <td>60</td>
      <td>--</td>
      <td>980.0</td>
      <td>133</td>
      <td>12</td>
      <td>12</td>
      <td>13</td>
      <td>13</td>
      <td>8.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>6.50</td>
      <td>9.00</td>
      <td>5.00</td>
      <td>5.75</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>14.57</td>
      <td>21.99</td>
      <td>23.30</td>
      <td>23.70</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>83.56</td>
      <td>16.0</td>
      <td>4.9</td>
      <td>164</td>
      <td>57</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>3</td>
      <td>858</td>
      <td>7</td>
      <td>0.0</td>
      <td>4.75</td>
      <td>3</td>
      <td>NZ</td>
      <td>Gelding</td>
      <td>60</td>
      <td>--</td>
      <td>1082.0</td>
      <td>132</td>
      <td>8</td>
      <td>3</td>
      <td>2</td>
      <td>2</td>
      <td>7.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.00</td>
      <td>1.00</td>
      <td>0.75</td>
      <td>4.75</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>13.69</td>
      <td>21.59</td>
      <td>23.90</td>
      <td>24.22</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>83.40</td>
      <td>3.5</td>
      <td>1.5</td>
      <td>137</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>4</td>
      <td>1853</td>
      <td>9</td>
      <td>0.0</td>
      <td>6.25</td>
      <td>3</td>
      <td>SAF</td>
      <td>Gelding</td>
      <td>60</td>
      <td>--</td>
      <td>1118.0</td>
      <td>127</td>
      <td>13</td>
      <td>8</td>
      <td>8</td>
      <td>11</td>
      <td>9.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3.50</td>
      <td>5.00</td>
      <td>3.50</td>
      <td>6.25</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>14.09</td>
      <td>21.83</td>
      <td>23.70</td>
      <td>24.00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>83.62</td>
      <td>39.0</td>
      <td>11.0</td>
      <td>80</td>
      <td>59</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>5</td>
      <td>2796</td>
      <td>6</td>
      <td>0.0</td>
      <td>3.75</td>
      <td>3</td>
      <td>GB</td>
      <td>Gelding</td>
      <td>60</td>
      <td>--</td>
      <td>972.0</td>
      <td>131</td>
      <td>14</td>
      <td>13</td>
      <td>12</td>
      <td>12</td>
      <td>6.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>7.75</td>
      <td>8.75</td>
      <td>4.25</td>
      <td>3.75</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>14.77</td>
      <td>21.75</td>
      <td>23.22</td>
      <td>23.50</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>83.24</td>
      <td>50.0</td>
      <td>14.0</td>
      <td>9</td>
      <td>154</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="research-designmethodsschedule" class="level4">
<h4 class="anchored" data-anchor-id="research-designmethodsschedule">Research design/methods/schedule</h4>
<p>The first thing that is needed to be done is to merge the two datasets together. Then go through the data and clean it, so that is can be used in a model. Then figure out which variables are important by finding the correlations between them. Use cross-validation to see which model (liner regression, Decision Tree, Random Forest, Voting) would be the most accurate one to use. And then pick the strongest one and test it. Then compare the predicted results with the actual result and conclude what the results are.</p>
</section>
<section id="discussion-conclusion" class="level4">
<h4 class="anchored" data-anchor-id="discussion-conclusion">Discussion / Conclusion</h4>
<p>What is expected by the end of this project is to have a model that will be able to predict the winner of each race with good accuracy. With other projects that are already made, this final project and help improve on top of the past created projects. With this project being made, and approved upon on. People that have access to this can then use it in the real world with real-time data. This project is only being run on old data that was collected in past years. If the results are not what is expected, then going back and changing the parameters for the model to help fit the expected result may be needed. So overall, the project will be to create a model to predict the winner of the horse race. Which will require the process of data cleaning and picking the most appropriate model to use for this project. In the end, we should have a model that presents the predicted results with the actual results. And from there we can make a conclusion on how well the model is.</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>